plugins {
	id 'maven-publish'
}

apply plugin: 'com.bmuschko.nexus'

publishing {
	publications {
		mavenJava(MavenPublication) {
			from components.java
		}
	}
}

dependencies {
	implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
	implementation "org.jetbrains.kotlin:kotlin-reflect"
	compile "org.springframework.boot:spring-boot-starter-webflux:${springBootVersion}"
	compile "org.springframework.integration:spring-integration-webflux:${springVersion}"
	compile "com.fasterxml.jackson.module:jackson-module-kotlin:2.9.8"
	compile "org.jetbrains.kotlinx:kotlinx-coroutines-core:${kotlinCoroutinesVersion}"
	compile "org.jetbrains.kotlinx:kotlinx-coroutines-reactor:${kotlinCoroutinesVersion}"
	compile "io.springfox:springfox-swagger2:${springfoxVersion}"
	compile "io.springfox:springfox-spring-webflux:${springfoxVersion}"
	compile "io.springfox:springfox-spring-integration-webflux:${springfoxVersion}"
	compile "io.springfox:springfox-swagger-ui:${springfoxVersion}"
}

modifyPom {
	project {
		name 'Spring Reactive Web Server + Kotlin'
	}
}

extraArchive {
	sources = true
	tests = false
	javadoc = true
}

nexus {
	sign = false
	repositoryUrl = "${nexusUrl}/maven-releases/"
	snapshotRepositoryUrl = "${nexusUrl}/maven-snapshots/"
}